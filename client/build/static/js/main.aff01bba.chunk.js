(this.webpackJsonpventrata_validator=this.webpackJsonpventrata_validator||[]).push([[0],{100:function(e,t,s){},107:function(e,t,s){},108:function(e,t,s){},242:function(e,t,s){"use strict";s.r(t);s(100);var r=s(91),n=s.n(r),c=(s(107),s(108),s(244)),a=s(245),l=s(246),i=s(0),o=function(e){var t=e.title;return Object(i.jsx)("div",{className:"page-header",children:Object(i.jsx)(c.a,{children:Object(i.jsxs)("h2",{className:" mt-3 mb-3 page-title",children:["Octo-",t]})})})},d=s(2),j=s(248),u=s(1),b=s(14),h=function(e){var t,s=e.label,r=e.name,n=e.required,c=Object(b.f)(),a=c.register,l=c.formState.errors;return Object(i.jsxs)("div",{className:"mb-3 mt-2",children:[Object(i.jsx)("label",{className:"form-label ".concat(n?"required":""),children:s}),Object(i.jsx)("input",Object(d.a)(Object(d.a)({},a(r)),{},{className:"form-control ".concat(l[r]?"is-invalid":""),autoComplete:"off",name:r})),Object(i.jsx)("div",{className:"invalid-feedback",children:"".concat(l[r]?null===(t=l[r])||void 0===t?void 0:t.message:"")})]})},m=s(8),v=s(12),O=s(6),x=s(92),g=s.n(x),f={flows:[],isLoading:!1,error:"",fetchFlows:function(){return null},resetError:function(){return null}},p=Object(u.createContext)(f);function N(){var e=Object(u.useContext)(p),t=e.flows,s=e.fetchFlows,r=e.isLoading,n=e.error,c=e.resetError;return{handleFetchFlows:Object(u.useCallback)((function(e){s(e)}),[s]),flows:t,isLoading:r,error:n,resetError:c}}var w,y=s(53),S=(s(143),s(99)),C=s(43),F=C.a().shape({endpoint:C.b().required("This field is required!"),apiKey:C.b().required("This field is required!")}).required(),k=function(){var e=N(),t=e.handleFetchFlows,s=e.error,r=e.isLoading,n=e.resetError,o=Object(b.e)({resolver:Object(S.a)(F)}),m=o.handleSubmit;!function(e){var t=e.watch,s=e.setValue,r=e.formName,n=e.shouldDirty,c=void 0!==n&&n,a=e.shouldValidate,l=void 0!==a&&a,i=e.onRestored,o=t();Object(u.useEffect)((function(){var e=localStorage.getItem(r),t={productOpeningHours:null,productStartTimes:null,capabilities:[],supplierId:"",url:"",productType:[]};if(e){for(var n=JSON.parse(e),a=0,o=Object.entries(n);a<o.length;a++){var d=Object(O.a)(o[a],2),j=d[0],u=d[1];s(j,u,{shouldValidate:l,shouldDirty:c}),t[j]=u}i&&i(t)}}),[r,s,l,c,i]),Object(u.useEffect)((function(){localStorage.setItem(r,JSON.stringify(o))}))}({formName:"FORM_DATA_KEY",watch:o.watch,setValue:o.setValue,shouldDirty:!0}),Object(u.useEffect)((function(){s&&y.toast.error(s,{position:"top-right",autoClose:5e3,onClose:function(){n()}})}),[s,n]);return Object(i.jsx)(b.a,Object(d.a)(Object(d.a)({},o),{},{children:Object(i.jsx)("form",{onSubmit:m((function(e){t(e)})),children:Object(i.jsxs)("fieldset",{className:" bg-white form-fieldset",children:[Object(i.jsx)(y.ToastContainer,{}),Object(i.jsxs)(c.a,{children:[Object(i.jsxs)(a.a,{className:"py-2",spacing:4,children:[Object(i.jsx)(l.a,{xs:12,sm:6,md:4,children:Object(i.jsx)(h,{label:"Endpoint",name:"endpoint",required:!0})}),Object(i.jsx)(l.a,{xs:12,sm:6,md:4,children:Object(i.jsx)(h,{label:"Api Key",name:"apiKey",required:!0})})]}),Object(i.jsxs)(a.a,{children:[Object(i.jsx)(l.a,{className:" d-flex justify-content-start ",children:Object(i.jsx)(j.a,{className:"mt-3",type:"submit",disabled:r,children:"Validate"})}),Object(i.jsx)(l.a,{className:" d-flex justify-content-end ",children:Object(i.jsx)(j.a,{className:"mt-3 btn btn-light text-blue  ",type:"button",onClick:function(){localStorage.removeItem("FORM_DATA_KEY"),window.location.reload()},children:"Reset"})})]})]})]})})}))},E=s(249),I=s(98),q=s(247);!function(e){e.SUCCESS="SUCCESS",e.WARNING="WARNING",e.FAILED="FAILED"}(w||(w={}));var A=s(13),L=function(e){var t=e.attr,s=void 0!==t&&t,r=e.last,n=void 0===r||r,c=e.level,a=void 0===c?0:c,l=e.value,o=" ".repeat(a);return Object(i.jsxs)(i.Fragment,{children:[!s&&o,Object(i.jsx)("span",{className:"hljs-string",children:JSON.stringify(l)}),!n&&",","\n"]})},R=function(e){var t=e.attr,s=void 0!==t&&t,r=e.last,n=void 0===r||r,c=e.level,a=void 0===c?0:c,l=e.onShowClick,o=e.show,d=void 0!==o&&o,j=e.value,b=" ".repeat(a),h=A.a(j),m=Object(u.useState)(0===a),v=Object(O.a)(m,2),x=v[0],g=v[1];if(h)return Object(i.jsxs)(i.Fragment,{children:[!s&&b,"[]",!n&&",","\n"]});var f=function(){g((function(e){return!e}))},p=j.length-1,N=a+2,w="highlighter-fold-arrow ".concat(x?"":"folded"),y=!s&&x||s&&d;return Object(i.jsxs)(i.Fragment,{children:[s?"[":Object(i.jsxs)(i.Fragment,{children:[b,Object(i.jsxs)("span",{className:"highlighter-attr",children:[Object(i.jsx)("span",{className:w,onClick:f}),"["]})]}),y?Object(i.jsxs)(i.Fragment,{children:["\n",j.map((function(e,t){return Object(i.jsx)(W,{last:t===p,level:N,value:e},t)})),b]}):Object(i.jsx)("small",{className:"highlighter-rest text-muted",onClick:s?l:f,children:" ... "}),"]",!n&&",","\n"]})},D=function(e){var t=e.attr,s=void 0!==t&&t,r=e.last,n=void 0===r||r,c=e.level,a=void 0===c?0:c,l=e.value,o=" ".repeat(a);return Object(i.jsxs)(i.Fragment,{children:[!s&&o,Object(i.jsx)("span",{className:"hljs-literal ".concat(!0===l?"text-success":"text-danger"),children:JSON.stringify(l)}),!n&&",","\n"]})},T=function(e){var t=e.attr,s=void 0!==t&&t,r=e.last,n=void 0===r||r,c=e.level,a=void 0===c?0:c,l=e.value,o=" ".repeat(a);return Object(i.jsxs)(i.Fragment,{children:[!s&&o,Object(i.jsx)("span",{className:"hljs-literal",children:JSON.stringify(l)}),!n&&",","\n"]})},H=function(e){var t=e.attr,s=void 0!==t&&t,r=e.last,n=void 0===r||r,c=e.level,a=void 0===c?0:c,l=e.value,o=" ".repeat(a);return Object(i.jsxs)(i.Fragment,{children:[!s&&o,Object(i.jsx)("span",{className:"hljs-number",children:l}),!n&&",","\n"]})},J=function(e){var t=A.c(e);return("Array"===t||"Object"===t)&&!A.a(e)},K=function(e){var t=e.index,s=e.length,r=e.level,n=void 0===r?0:r,c=e.name,a=e.spacer,l=void 0===a?"":a,o=e.value,d=Object(u.useState)(!0),j=Object(O.a)(d,2),b=j[0],h=j[1],m=function(){h((function(e){return!e}))},v="highlighter-fold-arrow ".concat(b?"":"folded");return Object(i.jsxs)(i.Fragment,{children:[l,Object(i.jsxs)("span",{className:"highlighter-attr",children:[J(o)&&Object(i.jsx)("span",{className:v,onClick:m}),Object(i.jsxs)("span",{className:"hljs-attr",children:['"',c,'"']}),": "]}),Object(i.jsx)(W,{attr:!0,last:t===s,level:n,onShowClick:m,show:b,value:o})]})},V=function(e){var t=e.attr,s=void 0!==t&&t,r=e.last,n=void 0===r||r,c=e.level,a=void 0===c?0:c,l=e.onShowClick,o=e.show,d=void 0!==o&&o,j=e.value,b=Object.entries(j),h=" ".repeat(a),m=A.a(b),v=Object(u.useState)(!0),x=Object(O.a)(v,2),g=x[0],f=x[1];if(m)return Object(i.jsxs)(i.Fragment,{children:[!s&&h,"{}",!n&&",","\n"]});var p=function(){f((function(e){return!e}))},N=b.length-1,w=a+2,y=" ".repeat(w),S="highlighter-fold-arrow ".concat(g?"":"folded"),C=!s&&g||s&&d;return Object(i.jsxs)(i.Fragment,{children:[s?"{":Object(i.jsxs)(i.Fragment,{children:[h,Object(i.jsxs)("span",{className:"highlighter-attr",children:[Object(i.jsx)("span",{className:S,onClick:p}),"{"]})]}),C?Object(i.jsxs)(i.Fragment,{children:["\n",b.map((function(e,t){var s=Object(O.a)(e,2),r=s[0],n=s[1];return Object(i.jsx)(K,{index:t,length:N,level:w,name:r,spacer:y,value:n},r)})),h]}):Object(i.jsx)("small",{className:"highlighter-rest text-muted",onClick:s?l:p,children:" ... "}),"}",!n&&",","\n"]})},W=function(e){var t=e.attr,s=void 0!==t&&t,r=e.last,n=void 0===r||r,c=e.level,a=void 0===c?0:c,l=e.onShowClick,o=e.show,j=void 0===o||o,u=e.value,b={attr:s,last:n,level:a,value:u};switch(A.c(u)){case"Array":return Object(i.jsx)(R,Object(d.a)(Object(d.a)({},b),{},{onShowClick:l,show:j}));case"Boolean":return Object(i.jsx)(D,Object(d.a)({},b));case"Null":return Object(i.jsx)(T,Object(d.a)({},b));case"Number":return Object(i.jsx)(H,Object(d.a)({},b));case"Object":return Object(i.jsx)(V,Object(d.a)(Object(d.a)({},b),{},{onShowClick:l,show:j}));case"String":return Object(i.jsx)(L,Object(d.a)({},b))}return Object(i.jsx)("span",{})},_=function(e){switch(e){case 200:return"bg-green-lt";case 400:case 500:return"bg-red-lt";default:return"bg-yellow-lt"}},B=function(e){switch(e){case w.SUCCESS:return"bg-green-lt";case w.FAILED:return"bg-red-lt";case w.WARNING:return"bg-yellow-lt"}},G=function(e){var t,s,r,n,c,a,l,o,d,j,u,b,h,m,v,O,x,g,f,p,N,w=e.scenario,y=e.id,S=null!==(null===(t=w.response)||void 0===t?void 0:t.body)&&null===(null===(s=w.response)||void 0===s?void 0:s.error),C=null!==(null===(r=w.response)||void 0===r?void 0:r.body)&&0===(null===(n=w.response)||void 0===n||null===(c=n.body)||void 0===c?void 0:c.length)&&null===(null===(a=w.response)||void 0===a?void 0:a.error),F=w.errors.filter((function(e){return"WARNING"===e.type})),k=w.errors.filter((function(e){return"CRITICAL"===e.type}));return Object(i.jsxs)(q.a.Item,{eventKey:y,children:[Object(i.jsxs)(q.a.Header,{as:"div",className:" accordio-header",children:[Object(i.jsx)("div",{children:Object(i.jsx)("span",{className:"badge ".concat(B(w.validationResult)),children:"".concat(w.success?"SUCCESS":"FAILED")})}),Object(i.jsx)("label",{className:" px-3 text-muted",children:w.name})]}),Object(i.jsx)(q.a.Body,{as:"div",className:"h-25 .bg-gradient overflow-auto",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("div",{className:"mb-2",children:Object(i.jsx)("strong",{className:"mb-3 text-muted",children:"url"})}),Object(i.jsxs)("div",{className:" mb-3 py-2 square border w-full text-muted",children:[Object(i.jsx)("span",{className:"badge badge-primary mx-2",children:null===(l=w.request)||void 0===l?void 0:l.method}),null===(o=w.request)||void 0===o?void 0:o.url]}),(null===(d=w.request)||void 0===d?void 0:d.body)&&Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"mb-2",children:Object(i.jsx)("strong",{className:" mb-3 text-muted",children:"req body"})}),Object(i.jsx)("div",{className:" mb-3 px-3 p-1 square border bg-light w-full ",style:{minHeight:"60px"},children:Object(i.jsx)("pre",{className:"text-muted",style:{background:"transparent",border:"none",margin:0,maxHeight:"30vh",whiteSpace:"pre"},children:Object(i.jsx)("code",{children:!A.b(null===(j=w.request)||void 0===j?void 0:j.body)&&Object(i.jsx)(W,{value:null===(u=w.request)||void 0===u?void 0:u.body})})})})]}),!C&&Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"mb-2",children:[Object(i.jsx)("strong",{className:"mb-3 px-2 text-muted",children:"res body"}),Object(i.jsx)("span",{className:"badge  ".concat(_(null!==(b=null===(h=w.response)||void 0===h?void 0:h.status)&&void 0!==b?b:0)),children:null===(m=w.response)||void 0===m?void 0:m.status})]}),Object(i.jsx)("div",{className:" mb-3 px-3 p-1 square border w-full ",style:{minHeight:"70px"},children:S?Object(i.jsx)("pre",{className:"text-muted",style:{background:"transparent",border:"none",margin:0,maxHeight:"30vh",whiteSpace:"pre"},children:Object(i.jsx)("code",{children:!A.b(null===(v=w.response)||void 0===v?void 0:v.body)&&Object(i.jsx)(W,{value:JSON.parse(null!==(O=null===(x=w.response)||void 0===x?void 0:x.body)&&void 0!==O?O:"")})})}):Object(i.jsx)("pre",{className:"text-muted",style:{background:"transparent",border:"none",margin:0,maxHeight:"30vh",whiteSpace:"pre"},children:Object(i.jsx)("code",{children:!A.b(null===(g=w.response)||void 0===g?void 0:g.error)&&Object(i.jsx)(W,{value:JSON.parse(null!==(f=null===(p=w.response)||void 0===p||null===(N=p.error)||void 0===N?void 0:N.body)&&void 0!==f?f:"")})})})})]}),F.length>0&&Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"mb-2",children:Object(i.jsx)("strong",{className:"badge bg-yellow-lt",children:"warnings"})}),Object(i.jsx)("div",{className:"mb-3  px-3 p-2 square border w-full text-muted",style:{minHeight:"30px"},children:F.map((function(e,t){return Object(i.jsx)("div",{className:"px-2",children:Object(i.jsx)("li",{children:e.message})},t)}))})]}),k.length>0&&Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"mb-2",children:Object(i.jsx)("strong",{className:"badge bg-red-lt",children:"errors"})}),Object(i.jsx)("div",{className:"mb-3  px-3 p-2 square border w-full text-muted",style:{minHeight:"30px"},children:k.map((function(e,t){return Object(i.jsx)("div",{className:"px-2",children:Object(i.jsx)("li",{children:e.message})},t)}))})]})]})})]})},U=function(e){var t=e.flow,s=e.id;return Object(i.jsxs)(q.a.Item,{eventKey:s,children:[Object(i.jsxs)(q.a.Header,{as:"div",className:"shadow-sm",children:[Object(i.jsxs)(I.a,{as:"span",className:"w-5 p-1",children:[" ",t.succesScenarios,"/",t.totalScenarios]}),Object(i.jsx)("div",{className:"px-3",children:Object(i.jsx)("span",{className:"badge ".concat(B(t.validationResult)),children:"".concat(t.success?"SUCCESS":"FAILED")})}),Object(i.jsx)("label",{className:"w-50 text-truncate px-3 text-muted",children:t.name})]}),Object(i.jsx)(q.a.Body,{as:"div",className:"h-25 .bg-gradient overflow-auto",children:Object(i.jsx)(q.a,{as:"div",className:" h-50 bg-light",children:null===t||void 0===t?void 0:t.scenarios.map((function(e,t){return Object(i.jsx)(G,{id:t.toString(),scenario:e},t)}))})})]})},M=function(){var e=N(),t=e.flows,s=e.isLoading,r=t&&t,n=null===r||void 0===r?void 0:r.reduce((function(e,t){return e+t.scenarios.length}),0),a=r.length>0?null===r||void 0===r?void 0:r.map((function(e){return e.scenarios.filter((function(e){return!0===e.success}))})).flat(1).length:"",l=r.length>0?r.map((function(e){return e.scenarios.filter((function(e){return e.validationResult===w.WARNING}))})).flat(1).length:"",o=r.length>0?r.map((function(e){return e.scenarios.filter((function(e){return e.validationResult===w.FAILED}))})).flat(1).length:"";return Object(i.jsx)(i.Fragment,{children:s?Object(i.jsx)("div",{className:"d-flex justify-content-center",children:Object(i.jsx)(E.a,{animated:!0,now:100})}):Object(i.jsx)(i.Fragment,{children:t.length>0?Object(i.jsx)("div",{className:"mb-3",children:Object(i.jsx)("div",{className:"card w-full",children:Object(i.jsx)("div",{className:"card-body",children:Object(i.jsxs)(c.a,{children:[Object(i.jsxs)("div",{className:"mr-3 mb-3  py-2 text-capitalize",children:[Object(i.jsx)(I.a,{bg:"primary",children:"".concat(n)}),Object(i.jsx)("strong",{className:"px-2",children:"Total Scenarios"}),Object(i.jsx)(I.a,{className:"ms-3 bg-green-lt",children:"".concat(a)}),Object(i.jsx)("strong",{className:"px-2",children:"Successful"}),Object(i.jsx)(I.a,{className:"ms-3 bg-yellow-lt",children:"".concat(l)}),Object(i.jsx)("strong",{className:"px-2",children:"Warnings"}),Object(i.jsx)(I.a,{className:"ms-3 bg-red-lt",children:"".concat(o)}),Object(i.jsx)("strong",{className:"px-2",children:"Critical Errors"})]}),Object(i.jsx)(q.a,{as:"div",className:" h-50 bg-light",children:null===r||void 0===r?void 0:r.map((function(e,t){return Object(i.jsx)(U,{id:t.toString(),flow:e},t)}))})]})})})}):Object(i.jsx)(i.Fragment,{})})})},P=function(){return Object(i.jsxs)(c.a,{children:[Object(i.jsx)(o,{title:"Validation"}),Object(i.jsx)(c.a,{children:Object(i.jsxs)(a.a,{children:[Object(i.jsx)(l.a,{md:12,xs:12,children:Object(i.jsx)(k,{})}),Object(i.jsx)(l.a,{md:12,xs:12,children:Object(i.jsx)(M,{})})]})})]})};var Y=function(){var e=function(){var e=Object(u.useState)([]),t=Object(O.a)(e,2),s=t[0],r=t[1],n=Object(u.useState)(!1),c=Object(O.a)(n,2),a=c[0],l=c[1],i=Object(u.useState)(null),o=Object(O.a)(i,2),d=o[0],j=o[1],b=Object(u.useCallback)(function(){var e=Object(v.a)(Object(m.a)().mark((function e(t){var s,n;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,g.a.post("http://localhost:3001/validate",{backend:t});case 4:s=e.sent,n=null===s||void 0===s?void 0:s.data,r(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response&&400===e.t0.response.status?j(e.t0.response.data.errorMessage):j("Invalid request!, please try again.");case 12:return e.prev=12,l(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),[r]),h=Object(u.useCallback)((function(){j(null)}),[]);return Object(u.useMemo)((function(){return{flows:s,error:d,isLoading:a,fetchFlows:b,resetError:h}}),[s,a,d,b,h])}();return Object(i.jsx)(p.Provider,{value:e,children:Object(i.jsx)(P,{})})},z=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,250)).then((function(t){var s=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,a=t.getTTFB;s(e),r(e),n(e),c(e),a(e)}))};n.a.createRoot(document.getElementById("root")).render(Object(i.jsx)(Y,{})),z()}},[[242,1,2]]]);
//# sourceMappingURL=main.aff01bba.chunk.js.map